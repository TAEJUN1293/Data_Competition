롯데 멤버스에서 주관한 공모전으로 주어진 데이터는 다음과 같습니다.

- 고객 데모 정보
- 상품 구매 정보 (유통사 상품 구매 내역)
- 제휴사 이용 정보 (제휴사 서비스 이용 내역)
- 상품 분류 정보 (유통사 상품 카테고리 마스터)
- 점포 정보 (유통사, 제휴사 점포 정보 마스터)
- 엘페이 결제 내역 

# 주제 
고객 구매 데이터에 기반한 예측 모델 개발 및 개인화 마케팅 전략 제안

전체적인 엘페이 사용량을 늘리고자 유통사, 제휴사 별 엘페이 결제여부를 타겟으로 두고 분석 진행.
어떤 변수를 조정해야 엘페이 결제 사용량이 늘어나는지 분석결과를 바탕으로 제안 


# 전처리
고객, 상품, 점포 정보의 고유 번호인 '고객코드', '상품코드', '점포코드'를 기준으로 파생변수를 생성해가며 병합 진행

전처리 이후 모델 적용 역시 유통사, 제휴사 따로 적용하였음. 
(유통사 제휴사 별 제안 방식이 달라야 한다고 판단하였기에)

최종 데이터 구성은 다음과 같음

< 유통사 dataframe >
채널구분(온라인, 오프라인), 구매시간, 구매금액, 구매수량, 성별, 연령대, 엘페이결제여부, 바로배송가능지역여부, 구매년도(년, 월, 요일)

< 제휴사 dataframe >
채널구분(온라인, 오프라인), 구매시간, 구매금액, 구매수량, 성별, 연령대, 엘페이결제여부, 바로배송가능지역여부, 구매년도(년, 월, 요일)

# 두 데이터프레임의 컬럼이 동일한데 모델링을 합치지 않고 따로 진행한 이유?
-> 제휴사, 유통사는 각 특징이 상이하다고 판단.
-> 모델링을 통한 분석 결과 역시 다르게 적용되어야 한다고 판단


# 모델링
1. Catboost
> Catboost를 활용하여 2:8로 split하여 모델링 진행 (독립변수에 범주형 변수만 존재할 때 분류 모형은 catboost의 성능이 좋음)
f1 스코어, roc 정확도로 모델 결과 판단
모델 결과 해석 >> 타겟 변수 자체의 수가 적고, 불균형이 존재함을 발견하여 샘플링 기법 적용

2. RandomForest
> 샘플링 기법을 활용하기 이전 변수(점포코드, 상품코드)에 인코딩 적용 
Feature Importance 기법 활용하여 타겟인 "엘페이 결제여부"에 영향을 주는 변수 체크

# 결과 해석
유통사의 경우, 다음과 같이 제안 
1. 구매금액이 높을수록 엘페이 이용하는 경향이 있음 > 낮은 구매금액 이용자에게 엘페이 홍보 전략 제안
2. 구매일자 (1, 15, 30일에 엘페이 사용량 저조), 구매시간(9 to 18) 구매 비율 높음 >> 마케팅 방식 제안
3. 특정 제휴사 2곳에서 엘페이를 활용한 구매 활동 경향이 높은 것 확인

제휴사의 경우, 다음과 같이 제안 
1. 구매금액이 높을수록 엘페이를 이용하지 않는 경향이 있음 
2. 구매일자(월 중순, 월말) 엘페이 사용자 수 급격히 하락하는 추세, 구매시간(오후)에 급감
3. 구매요일(화요일, 금요일) 엘페이 사용자 수 높은 추세, 연령대 기준 MZ세대 비율 급감 확인

